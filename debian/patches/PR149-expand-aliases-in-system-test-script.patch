From: Otto Kekalainen <otto@debian.org>
Date: Fri, 23 Aug 2024 13:36:31 -0700
Subject: g-a  Expand aliases in shell script system_test.sh

By default shell/bash does not use aliases. This can be verified by running
'alias' after any alias setting commands, and see that it is empty.

Activate shell option expand_aliases for the following alias lines to work
correctly.

Forwarded: https://github.com/eradman/entr/pull/149
Origin: https://patch-diff.githubusercontent.com/raw/eradman/entr/pull/149.patch
---
 system_test.sh | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/system_test.sh b/system_test.sh
index fb6247b..cb4fd5b 100755
--- a/system_test.sh
+++ b/system_test.sh
@@ -73,10 +73,11 @@ then
 fi
 
 # local binary, non-interactive by default
-
 alias entr='./entr -n'
 alias entr_tty='./entr'
 
+# alias expansion is not enabled by default in non-interactive Bourne Again Shell (bash) sessions
+command -v shopt > /dev/null && shopt -s expand_aliases
 
 # show what version is being tested for easier to debug logs
 echo "INFO: Using entr version:"

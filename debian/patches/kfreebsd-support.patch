Description: Support the hybrid GNU/kFreeBSD
  Add support for the hybrid combination of kFreeBSD with the GNU libc,
  which supports kqueue natively but still requires the libbsd overlay.
Author: Yuri D'Elia <wavexx@thregr.org>
Forwarded: not-needed

--- /dev/null
+++ b/Makefile.kfreebsd
@@ -0,0 +1,6 @@
+PKG_CONFIG ?= pkg-config
+CFLAGS += -D_GNU_SOURCE $(shell $(PKG_CONFIG) --cflags libbsd-overlay)
+LDFLAGS += $(shell $(PKG_CONFIG) --libs libbsd-overlay)
+MANPREFIX ?= ${PREFIX}/share/man
+
+include Makefile.bsd
--- a/configure
+++ b/configure
@@ -45,6 +45,9 @@ case "${TARGET_OS:-`uname`}" in
 	Linux)
 		test_libc_features && copy_mk linux || copy_mk linux-compat
 		;;
+	GNU/kFreeBSD)
+		copy_mk kfreebsd
+		;;
 	*)
 		copy_mk bsd
 		;;
